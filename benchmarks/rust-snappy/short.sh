#!/bin/bash
env RUSTFLAGS="-C save-temps --emit=llvm-bc -Z print-link-args" cargo bench --no-run> nightly_commands.txt
cd target/release/deps
~/rust/build/x86_64-unknown-linux-gnu/llvm/bin/llvm-link ./bench-0970b86059b3a363.bc ./bench-0970b86059b3a363.2yipu0azuz5bu41n.rcgu.bc parity_snappy-67100150f196f160.bc -o bench.bc
/usr/bin/time ~/projects/mpk-rust/SVF/bin/dvf -cxt -query=all -max-cxt=100 -flow-bg=1000000 -field-limit=0 -cxt-bg=1000000 ./bench.bc
~/rust/build/x86_64-unknown-linux-gnu/llvm/bin/opt -mpk-isolation -mpk-isolation-gates bench.bc -o bench.bc
~/rust/build/x86_64-unknown-linux-gnu/llvm/bin/llc ./bench.bc -relocation-model=pic -filetype=obj
"clang" "-Wl,--as-needed" "-Wl,-z,noexecstack" "-m64" "-Wl,--eh-frame-hdr" "-L" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib" bench.o "-o" "/home/martin/projects/mpk-rust/mpkbenches/rust-snappy/target/release/deps/bench" "-Wl,--gc-sections" "-pie" "-Wl,-zrelro" "-Wl,-znow" "-nodefaultlibs" "-L" "/home/martin/projects/mpk-rust/mpkbenches/rust-snappy/target/release/deps" "-L" "/home/martin/projects/mpk-rust/mpkbenches/rust-snappy/target/release/build/parity-snappy-sys-476e646dc1cffc4d/out/build" "-L" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib" "-Wl,-Bstatic" "/home/martin/projects/mpk-rust/mpkbenches/rust-snappy/target/release/deps/librand-04e0eff73401e84b.rlib" "/home/martin/projects/mpk-rust/mpkbenches/rust-snappy/target/release/deps/librand_core-4bb6122ddf635d67.rlib" "/home/martin/projects/mpk-rust/mpkbenches/rust-snappy/target/release/deps/librand_core-a3b56790fe374005.rlib" "/home/martin/projects/mpk-rust/mpkbenches/rust-snappy/target/release/deps/libparity_snappy-67100150f196f160.rlib" "/home/martin/projects/mpk-rust/mpkbenches/rust-snappy/target/release/deps/libparity_snappy_sys-91dcbb6732f8b62e.rlib" "/home/martin/projects/mpk-rust/mpkbenches/rust-snappy/target/release/deps/liblibc-328b4b85f70f90bd.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libtest-499f64ce22f3735d.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libterm-641b51baab046754.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libgetopts-9212eb64959a697a.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libunicode_width-cf9e008a158c11f1.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_std-df025f547d4af7ba.rlib" "-Wl,--start-group" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-4f684f4f54aa87a5.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libpanic_unwind-e6ad122e5b62a0fd.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libminiz_oxide-7a97ac67890b4d95.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libadler-ec9ce3969cbbb658.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libobject-4b56ec5e55af919d.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libaddr2line-6cd2e470cf1095d4.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libgimli-8241dda567c28a8b.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_demangle-10e2828d4233f4b9.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libhashbrown-db7b9e51d140b453.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_alloc-bb34ef98c2c688f5.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libunwind-e016dec38c566033.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcfg_if-ad72d7c771bcec42.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/liblibc-c6acfd74d2937cf9.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/liballoc-b1b2aa35bef162ba.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_core-55806ed4808ced8a.rlib" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcore-2480049ab2ac081d.rlib" "-Wl,--end-group" "/home/martin/rust/build/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcompiler_builtins-8a7dcc50865d8ad8.rlib" "-Wl,-Bdynamic" "-lstdc++" "-lgcc_s" "-lutil" "-lrt" "-lpthread" "-lm" "-ldl" "-lc" -L /home/martin/projects/mpk-rust/mpk-library/build -lmpk
